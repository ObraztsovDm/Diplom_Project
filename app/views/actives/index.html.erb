<link rel="stylesheet" href="application.css">
<p style="color: green"><%= notice %></p>

<div style="font-family: 'Times New Roman',serif; font-size: 20px">
  <h1>Вхідні
    дані <%= image_tag 'ruby.jpg', width: 50, height: 50, style: "vertical-align:middle; -aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" %>
  </h1>

  <hr>

  <div style="text-align: center;">
    <%= form_for :active, url: actives_path do |form| %>
      <div class="alert alert-info">
        Початок часового проміжку:
        <%= form.number_field :start, in: 0..100, step: 1, :class => "form_control form-control-md", :id => "start"%>
        Завершення часового проміжку:
        <%= form.number_field :end, in: 0..100, step: 1, :class => "form_control form-control-md", :id => "end"%><br><br>
        Кількість ботів:
        <%= form.number_field :number_bots, in: 1..30, step: 1, :class => "form_control form-control-md" %>
        Ймовірний користувацький рівень кластеризації:
        <%= form.number_field :guess_claster, in: 0..100, step: 1, :class => "form_control form-control-md" %><br><br>

        <%= form.submit "Зберегти", :class => "btn btn-success" %>
      </div>
    <% end %>
  </div>

  <hr>

  <!--  <h1>Функція щільності ймовірності
    розподілу <%#= image_tag 'ruby.jpg', width: 50, height: 50, style: "vertical-align:middle; -aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" %></h1>

  <hr>

  <div class="alert alert-primary">
    <#%= line_chart [
                     {
                       name: "ФШІ", type: 'line', data: @pdf
                     }
                   ],
                   title: "Функція щільності ймовірності",
                   colors: ['brown'],
                   xtitle: "x",
                   ytitle: "P(x)",
                   download: { background: "#ffffff" }
    %>
  </div>

  <hr>
  -->
  <h1>Моделювання результатів <%= image_tag 'ruby.jpg', width: 50, height: 50, style: "vertical-align:middle; -aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" %></h1>

  <hr>

  <h4 style="text-align: center">Кластеризація ботів в системі</h4>

  <hr>
  <div class="alert alert-success">
    <%= column_chart [
                       {
                         name: "Кількість ботів у кластері", type: 'column', data: @claster
                       }
                     ],
                     title: "Кластеризація ботів",
                     colors: ['green'],
                     xtitle: "Час",
                     ytitle: "Боти",
                     download: { background: "#ffffff" }
    %>
  </div>

  <!--<hr>

  <h4 style="text-align: center">Використання методу Метрополісу</h4>

  <hr>
  <div class="alert alert-success">
    <#%= column_chart [
                       {
                         name: "Апроксимація взаємного розподілу", type: 'column', data: @p_k
                       },
                       {
                         name: "Перша серія моделювання", type: 'column', data: @series_one_metropolis
                       },
                       {
                         name: "Друга серія моделювання", type: 'column', data: @series_two_metropolis
                       }
                     ],
                     title: "Статистична перевірка випадкових величин (Метод Метрополісу)",
                     colors: ['green', 'blue', 'purple'],
                     xtitle: "x",
                     ytitle: "p(x)",
                     download: { background: "#ffffff" }
    %>
  </div>

  <hr>

  <h4 style="text-align: center">Використання методу зворотної функції</h4>

  <hr>
  <div class="alert alert-success">
    <#%= column_chart [
                       {
                         name: "Апроксимація взаємного розподілу", type: 'column', data: @p_k
                       },
                       {
                         name: "Перша серія моделювання", type: 'column', data: @series_one_reverse
                       },
                       {
                         name: "Друга серія моделювання", type: 'column', data: @series_two_reverse
                       }
                     ],
                     title: "Статистична перевірка випадкових величин (Метод зворотної функції)",
                     colors: ['green', 'blue', 'purple'],
                     xtitle: "x",
                     ytitle: "p(x)",
                     download: { background: "#ffffff" }
    %>
  </div>

  <hr>
-->
  <h1>Числові характеристики <%= image_tag 'ruby.jpg', width: 50, height: 50, style: "vertical-align:middle; -aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" %></h1>

  <hr>
  <div style="background: #DDDDF5">
    <div style="text-align: center;">
      <table border="1" cellpadding="6" cellspacing="0" align="center">
        <tr>
          <td><b>Фактичний коефіцієнт кластеризації*</b></td>
          <td><%= @real_cluster %> %</td>
        </tr>
        <tr>
          <td><b>Користувацький коефіцієнт кластеризації</b></td>
          <td><%= @user_cluster %> %</td>
        </tr>
      </table>
    </div>
  </div>
  <hr>

</div>


<!--<div id="reciprocals">
  <%# @reciprocals.each do |reciprocal| %>
<%#= render reciprocal %>
    <p>
      <%#= link_to "Show this reciprocal", reciprocal %>
    </p>
  <%# end %>
</div>-->


<%#= link_to "New reciprocal", new_reciprocal_path %>


<script>
    document.getElementById("start").addEventListener('change', function () {
        let start = document.getElementById("start");
        let finish = document.getElementById("end")

        finish.min = +start.value;
    });
</script>

